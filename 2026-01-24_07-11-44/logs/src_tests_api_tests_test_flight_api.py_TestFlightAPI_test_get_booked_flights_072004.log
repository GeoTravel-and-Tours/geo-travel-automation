2026-01-24 07:20:03 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Retrieved credentials from environment for: geo.qa.bot@gmail.com
2026-01-24 07:20:03 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Attempting login with email: geo.qa.bot@gmail.com
2026-01-24 07:20:03 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/auth/login
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Token extracted via response_body (length: 167, valid)
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Login successful - token set via response_body
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Authenticated successfully (token length: 167)
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from cookies (Cookie header)
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - setup for src/tests/api_tests/test_flight_api.py::TestFlightAPI::test_get_booked_flights - Skipped: False
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - === Testing Get Booked Flights ===
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: GET https://api.dev.gowithgeo.com/api/flight/user/booked-flights?limit=10&page=1&category=Upcoming
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Booked Flights Response: 200 - {"status":"success","message":"Flights retrieved successful","data":{"flights":[{"id":417,"flightId":"eJzTd9e3tHQyMfUBAAn-Ag8","amount":998781,"priceCharge":998781,"source":"GDS","flightTag":"flights:return:1:0:0:ECONOMY:LOS:LHR:2026-01-24:2026-01-28","sourceType":"AMADEUS","instantTicketingRequired":false,"flighttype":"return","nonHomogeneous":false,"refundable":false,"numberOfBookableSeats":1,"totalStops":2,"totalDuration":"22h 50m","pricing":{"total":998781,"baseFare":254717,"currency":"NGN","includedCheckedBagsOnly":true},"travelerPricings":[{"cabin":"ECONOMY","class":"T","total":998781,"baseFare":254717,"currency":"NGN","fareBasis":"TA0EE1IP","fareOption":"STANDARD","travelerType":"ADULT","includedCabinBags":1,"includedCheckedBags":"30KG","includedCheckedBagsQuantity":1}],"routes":[{"segments":[{"stops":1,"layover":true,"duration":"4h 45m","arrivalCity":"Casablanca","arrivalCode":"CMN","arrivalDate":"2026-01-24","arrivalName":"Mohammed V International","arrivalTime":"11:30 AM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","layoverCity":"Casablanca","layoverCode":"CMN","layoverName":"Mohammed V International","aircraftCode":"73H","flightNumber":"554","departureCity":"Lagos","departureCode":"LOS","departureDate":"2026-01-24","departureName":"Murtala Muhammed International","departureTime":"06:45 AM","arrivalCountry":"Morocco","layoverCountry":"Morocco","arrivalTerminal":"2","blacklistedInEU":false,"layoverDuration":"3h 15m","departureCountry":"Nigeria","departureTerminal":"2I"},{"stops":0,"duration":"3h 15m","arrivalCity":"London","arrivalCode":"LHR","arrivalDate":"2026-01-24","arrivalName":"Heathrow","arrivalTime":"05:00 PM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","aircraftCode":"7M8","flightNumber":"806","departureCity":"Casablanca","departureCode":"CMN","departureDate":"2026-01-24","departureName":"Mohammed V International","departureTime":"02:45 PM","arrivalCountry":"United Kingdom","arrivalTerminal":"4","blacklistedInEU":false,"departureCountry":"Morocco","departureTerminal":"1"}],"totalDuration":"11h 15m","totalSegmentStops":1},{"segments":[{"stops":1,"layover":true,"duration":"3h 20m","arrivalCity":"Casablanca","arrivalCode":"CMN","arrivalDate":"2026-01-28","arrivalName":"Mohammed V International","arrivalTime":"09:30 PM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","layoverCity":"Casablanca","layoverCode":"CMN","layoverName":"Mohammed V International","aircraftCode":"7M8","flightNumber":"801","departureCity":"London","departureCode":"LHR","departureDate":"2026-01-28","departureName":"Heathrow","departureTime":"05:10 PM","arrivalCountry":"Morocco","layoverCountry":"Morocco","arrivalTerminal":"2","blacklistedInEU":false,"layoverDuration":"3h 40m","departureCountry":"United Kingdom","departureTerminal":"4"},{"stops":0,"duration":"4h 35m","arrivalCity":"Lagos","arrivalCode":"LOS","arrivalDate":"2026-01-29","arrivalName":"Murtala Muhammed International","arrivalTime":"05:45 AM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","aircraftCode":"73H","flightNumber":"555","departureCity":"Casablanca","departureCode":"CMN","departureDate":"2026-01-29","departureName":"Mohammed V International","departureTime":"01:10 AM","arrivalCountry":"Nigeria","arrivalTerminal":"2I","blacklistedInEU":false,"departureCountry":"Morocco","departureTerminal":"1"}],"totalDuration":"11h 35m","totalSegmentStops":1}],"flightDeal":null,"geoPricing":{"airline":"AT","payable":998781},"fareRules":null,"addons":[],"affiliateBooking":false,"passengers":[{"dob":"2013-01-07","email":"geo.qa.bot@gmail.com","title":"Mr","gender":"Male","holder":true,"number":"PASS123","lastName":"BOt Manual","firstName":"GEO","phoneCode":"+234","expiryDate":"2026-01-31","issuingDate":"2026-01-05","phoneNumber":"+2341234567890","documentType":"passport","issuingCountry":"NG","nationalityCountry":"NG"}],"associatedRecords":[{"reference":"99B45L","creationDate":"2026-01-23T13:01:00.000","flightOfferId":"4","originSystemCode":"GDS"},{"reference":"99B45L","creationDate":"2026-01-23T13:01:00.000","flightOfferId":"4","originSystemCode":"AT"}],"officeID":null,"ticketingAgreementOption":"DELAY_TO_CANCEL","ticketingAgreementDelay":"6D","automatedProcess":null,"remarks":{"general":[{"text":"ONLINE BOOKING FROM GEOTRAVELS & TOURS","subType":"GENERAL_MISCELLANEOUS"}]},"tickets":null,"commissions":null,"ticketed":false,"cancelled":false,"pnr":"99B45L","documentRequired":true,"bookingCode":"GF-MKQW3K7IJRCUQQZD","expiresAt":"2026-01-24T00:00:00.000Z","priceChange":false,"deal":null,"geomarkup":null,"geomargin":null,"voucher":null,"invoice_id":1347,"created":"2026-01-23T13:01:31.000Z","paymentStatus":"PAID","deletesAt":false,"isActive":true,"trials":null,"notifyAt":null,"flightStatus":"BOOKED","initials":null,"flightPDF":null,"user_id":151,"final_arrival_date":"2026-01-29T00:00:00.000Z","paymentDeadlineAt":"2026-01-23T13:06:31.279Z","notificationCount":0,"lastNotifiedAt":null,"createdAt":"2026-01-23T13:01:31.279Z","updatedAt":"2026-01-23T13:59:47.253Z","user":{"id":151,"profile":null,"userType":"RETAIL","email":"geo.qa.bot@gmail.com","first_name":"QA Bot","last_name":"GEO","username":null,"phone_number":null,"suspended":false,"banned":false,"invited":false,"last_login":"24-01-2026 07:20 AM","department":null,"verified":true,"active":true,"online":true,"deleted":false,"createdAt":"2026-01-08T14:40:01.565Z","updatedAt":"2026-01-24T07:20:01.746Z"},"invoice":{"id":1347,"partPayment":false,"status":"PAID","amount":998781,"payer_name":"GEO BOt Manual","payment_gateway":"flutterwave","payer_email":"geo.qa.bot@gmail.com","payer_phone":"+2341234567890","invoiceFor":"FLIGHT","invoiceCode":"MKQW3J01JUTGDDK9","ref":"1496317990741769173298670","created":"Fri Jan 23 2026 13:01:29 GMT+0000","expiry":"Sat Jan 24 2026 13:01:29 GMT+0000","_id":null,"voucher":null,"createdAt":"2026-01-23T13:01:29.717Z","updatedAt":"2026-01-23T13:59:47.460Z"}}],"pagination":{"currentPage":1,"totalItems":1,"totalPages":1,"itemsPerPage":10}}}
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Booked flights retrieved successfully
2026-01-24 07:20:04 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - call for src/tests/api_tests/test_flight_api.py::TestFlightAPI::test_get_booked_flights - Skipped: False