2026-01-13 07:24:28 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Retrieved credentials from environment for: geo.qa.bot@gmail.com
2026-01-13 07:24:28 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Attempting login with email: geo.qa.bot@gmail.com
2026-01-13 07:24:28 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/auth/login
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Token extracted via response_body (length: 167, valid)
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Login successful - token set via response_body
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Authenticated successfully (token length: 167)
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from cookies (Cookie header)
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - setup for src/tests/api_tests/test_flight_api.py::TestFlightAPI::test_get_booked_flights - Skipped: False
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - === Testing Get Booked Flights ===
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: GET https://api.dev.gowithgeo.com/api/flight/user/booked-flights?limit=10&page=1&category=Upcoming
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Booked Flights Response: 200 - {"status":"success","message":"Flights retrieved successful","data":{"flights":[{"id":402,"flightId":"eJzTd9c397bwdvMDAAqNAj8","amount":561257,"priceCharge":591257,"source":"GDS","flightTag":"flights:one-way:1:0:0:ECONOMY:LOS:LHR:2026-01-16","sourceType":"AMADEUS","instantTicketingRequired":false,"flighttype":"one-way","nonHomogeneous":false,"refundable":false,"numberOfBookableSeats":9,"totalStops":1,"totalDuration":"9h 50m","pricing":{"total":561257,"baseFare":75790,"currency":"NGN","includedCheckedBagsOnly":true},"travelerPricings":[{"cabin":"ECONOMY","class":"O","total":561257,"baseFare":75790,"currency":"NGN","fareBasis":"OA0WE1IA","fareOption":"STANDARD","travelerType":"ADULT","includedCabinBags":1,"includedCheckedBags":"30KG","includedCheckedBagsQuantity":1}],"routes":[{"segments":[{"stops":1,"layover":true,"duration":"4h 30m","arrivalCity":"Casablanca","arrivalCode":"CMN","arrivalDate":"2026-01-16","arrivalName":"Mohammed V International","arrivalTime":"11:30 AM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","layoverCity":"Casablanca","layoverCode":"CMN","layoverName":"Mohammed V International","aircraftCode":"788","flightNumber":"554","departureCity":"Lagos","departureCode":"LOS","departureDate":"2026-01-16","departureName":"Murtala Muhammed International","departureTime":"07:00 AM","arrivalCountry":"Morocco","layoverCountry":"Morocco","arrivalTerminal":"2","blacklistedInEU":false,"layoverDuration":"2h 5m","departureCountry":"Nigeria","departureTerminal":"2I"},{"stops":0,"duration":"3h 15m","arrivalCity":"London","arrivalCode":"LHR","arrivalDate":"2026-01-16","arrivalName":"Heathrow","arrivalTime":"03:50 PM","carrierCode":"AT","carrierLogo":"https://image.tiqwa.com/airlines/AT.png","carrierName":"Royal Air Maroc","aircraftCode":"789","flightNumber":"800","departureCity":"Casablanca","departureCode":"CMN","departureDate":"2026-01-16","departureName":"Mohammed V International","departureTime":"01:35 PM","arrivalCountry":"United Kingdom","arrivalTerminal":"4","blacklistedInEU":false,"departureCountry":"Morocco","departureTerminal":"1"}],"totalDuration":"9h 50m","totalSegmentStops":1}],"flightDeal":null,"geoPricing":{"airline":"AT","payable":561257},"fareRules":null,"addons":[{"id":31,"name":"TESTIN ADD ON","image":"https://res.cloudinary.com/dscn7bqto/image/upload/v1755808492/50a24e7a-4113-4e90-9e82-ccf7bd6175b7.png","price":30000,"status":true,"createdAt":"2025-08-21T20:34:52.710Z","updatedAt":"2025-08-27T09:52:59.727Z","description":"Yeahh, none yet"}],"affiliateBooking":false,"passengers":[{"dob":"2013-12-29","email":"geo.qa.bot@gmail.com","title":"Mr","gender":"Male","holder":true,"number":"PASS123","lastName":"QA Bot","firstName":"GEO","phoneCode":"+234","expiryDate":"2026-01-29","issuingDate":"2026-01-05","phoneNumber":"+2341234567890","documentType":"passport","issuingCountry":"NG","nationalityCountry":"NG"}],"associatedRecords":[{"reference":"7K8KFN","creationDate":"2026-01-13T06:54:00.000","flightOfferId":"1","originSystemCode":"GDS"},{"reference":"7K8KFN","creationDate":"2026-01-13T06:54:00.000","flightOfferId":"1","originSystemCode":"AT"}],"officeID":null,"ticketingAgreementOption":"DELAY_TO_CANCEL","ticketingAgreementDelay":"6D","automatedProcess":null,"remarks":{"general":[{"text":"ONLINE BOOKING FROM GEOTRAVELS & TOURS","subType":"GENERAL_MISCELLANEOUS"}]},"tickets":null,"commissions":null,"ticketed":false,"cancelled":false,"pnr":"7K8KFN","documentRequired":true,"bookingCode":"GF-MKC8LP9HFKYZMSAH","expiresAt":"2026-01-16T00:00:00.000Z","priceChange":false,"deal":null,"geomarkup":null,"geomargin":null,"voucher":null,"invoice_id":1190,"created":"2026-01-13T06:55:00.000Z","paymentStatus":"PAID","deletesAt":false,"isActive":true,"trials":null,"notifyAt":null,"flightStatus":"BOOKED","initials":null,"flightPDF":null,"user_id":151,"final_arrival_date":"2026-01-16T00:00:00.000Z","createdAt":"2026-01-13T06:55:00.390Z","updatedAt":"2026-01-13T06:55:53.170Z","user":{"id":151,"profile":null,"userType":"RETAIL","email":"geo.qa.bot@gmail.com","first_name":"QA Bot","last_name":"GEO","username":null,"phone_number":null,"suspended":false,"banned":false,"invited":false,"last_login":"13-01-2026 07:24 AM","department":null,"verified":true,"active":true,"online":true,"deleted":false,"createdAt":"2026-01-08T14:40:01.565Z","updatedAt":"2026-01-13T07:24:15.103Z"},"invoice":{"id":1190,"partPayment":false,"status":"PAID","amount":591257,"payer_name":"GEO GEO","payment_gateway":"ONLINE","payer_email":"geo.qa.bot@gmail.com","payer_phone":"+2341234567890","invoiceFor":"FLIGHT","invoiceCode":"MKC8LNY9XQ9OW8LX","ref":"1615294189971768287335636","created":"Tue Jan 13 2026 06:54:58 GMT+0000","expiry":"Wed Jan 14 2026 06:54:58 GMT+0000","_id":null,"voucher":null,"createdAt":"2026-01-13T06:54:58.692Z","updatedAt":"2026-01-13T06:55:53.351Z"}}],"pagination":{"currentPage":1,"totalItems":1,"totalPages":1,"itemsPerPage":10}}}
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Booked flights retrieved successfully
2026-01-13 07:24:29 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - call for src/tests/api_tests/test_flight_api.py::TestFlightAPI::test_get_booked_flights - Skipped: False