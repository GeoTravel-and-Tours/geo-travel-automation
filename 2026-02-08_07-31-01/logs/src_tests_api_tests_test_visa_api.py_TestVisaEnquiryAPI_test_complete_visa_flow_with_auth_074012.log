2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üöÄ Starting TestVisaEnquiryAPI test
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Retrieved credentials from environment for: geo.qa.bot@gmail.com
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Attempting login with email: geo.qa.bot@gmail.com
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/auth/login
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Token extracted via response_body (length: 167, valid)
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Login successful - token set via response_body
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Authenticated successfully (token length: 167)
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from cookies (Cookie header)
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - ‚úÖ Auth token set from response body (Authorization header)
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - setup for src/tests/api_tests/test_visa_api.py::TestVisaEnquiryAPI::test_complete_visa_flow_with_auth - Skipped: False
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - === Testing Complete Visa Flow - With Auth ===
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - === Flow for FLUTTERWAVE ===
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 1: Creating visa enquiry...
2026-02-08 07:40:08 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/visa/create
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Visa enquiry created: ID=553
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 2: Verifying visa appears in user's applications...
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: GET https://api.dev.gowithgeo.com/api/visa/all/user
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Visa found in user's applications
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 3: Initiating payment via FLUTTERWAVE
2026-02-08 07:40:09 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/visa/payment
2026-02-08 07:40:10 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:10 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Flutterwave payment link generated and verified
2026-02-08 07:40:10 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - === Flow for MANUAL PAYMENT ===
2026-02-08 07:40:10 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 1: Creating visa enquiry...
2026-02-08 07:40:10 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/visa/create
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Visa enquiry created: ID=554
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 2: Verifying visa appears in user's applications...
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: GET https://api.dev.gowithgeo.com/api/visa/all/user
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Visa found in user's applications
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - Step 3: Initiating payment via MANUAL PAYMENT
2026-02-08 07:40:11 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Request: POST https://api.dev.gowithgeo.com/api/visa/payment
2026-02-08 07:40:12 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - API Response: 200
2026-02-08 07:40:12 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: ‚úÖ Manual payment correctly returned no payment link
2026-02-08 07:40:12 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - SUCCESS: üéâ Complete visa flow test passed for BOTH payment methods
2026-02-08 07:40:12 - GeoTravelGlobalLogger - INFO     - [logger.py:345] - üîç DEBUG: Test phase - call for src/tests/api_tests/test_visa_api.py::TestVisaEnquiryAPI::test_complete_visa_flow_with_auth - Skipped: False